<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Dr Mark R. Thomas" />

<meta name="date" content="2015-08-12" />

<title>Reproducible Research Peer Assignment 1</title>

<script src="PA1_template_files/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="PA1_template_files/bootstrap-2.3.2/css/bootstrap.min.css" rel="stylesheet" />
<link href="PA1_template_files/bootstrap-2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
<script src="PA1_template_files/bootstrap-2.3.2/js/bootstrap.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="PA1_template_files/highlight/default.css"
      type="text/css" />
<script src="PA1_template_files/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
</style>
<div class="container-fluid main-container">


<div id="header">
<h1 class="title">Reproducible Research Peer Assignment 1</h1>
<h4 class="author"><em>Dr Mark R. Thomas</em></h4>
<h4 class="date"><em>12 August 2015</em></h4>
</div>


<p>This is the code and output that is required for Peer Assessment 1 of the Data Science Course by Johns Hopkins University, hosted by Coursera.</p>
<p>Loading and preprocessing the data:</p>
<pre class="r"><code>library(ggplot2)
setwd(&quot;~/Dropbox/R&quot;)
activity &lt;- read.csv(&quot;activity.csv&quot;)</code></pre>
<p>What is mean total number of steps taken per day? 1. Calculate the total number of steps taken per day:</p>
<pre class="r"><code>stepsperday &lt;- aggregate(activity$steps, list(activity$date),FUN=sum,na.rm=TRUE)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Make a histogram of the total number of steps taken each day:</li>
</ol>
<pre class="r"><code>qplot(stepsperday[,2],binwidth=1000, xlab=&quot;Steps per Day&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-3-1.png" title="" alt="" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Calculate and report the mean of the total number of steps taken per day:</li>
</ol>
<pre class="r"><code>mean(stepsperday[,2])</code></pre>
<pre><code>## [1] 9354.23</code></pre>
<p>Calculate and report the mean of the total number of steps taken per day:</p>
<pre class="r"><code>median(stepsperday[,2])</code></pre>
<pre><code>## [1] 10395</code></pre>
<p>What is the average daily activity pattern? 1. Make a time series plot (i.e. type = “l”) of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)</p>
<pre class="r"><code>stepsperinterval &lt;- aggregate(dat$steps, list(dat$interval), FUN=mean, na.rm=TRUE)
plot(stepsperinterval[,1], stepsperinterval[,2], type=&quot;l&quot;, xlab=&quot;5 min interval&quot;, ylab=&quot;Steps&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-6-1.png" title="" alt="" width="672" /> 2. Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps?</p>
<pre class="r"><code>stepsperinterval[which(stepsperinterval[,2] == max(stepsperinterval[,2])),1]</code></pre>
<pre><code>## [1] 835</code></pre>
<p>Imputing missing values 1. Calculate and report the total number of missing values in the dataset (i.e. the total number of rows with NAs)</p>
<pre class="r"><code>sum(complete.cases(activity))</code></pre>
<pre><code>## [1] 15264</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Devise a strategy for filling in all of the missing values in the dataset. The strategy does not need to be sophisticated. For example, you could use the mean/median for that day, or the mean for that 5-minute interval, etc.</li>
</ol>
<p>Selected strategy involves replacing NA’s with the mean of that 5 min interval.</p>
<ol start="3" style="list-style-type: decimal">
<li>Create a new dataset that is equal to the original dataset but with the missing data filled in.</li>
</ol>
<pre class="r"><code>imputed &lt;- activity
nas &lt;- imputed[is.na(imputed),]
for(i in rownames(nas)){
    nas[i,1]&lt;- stepsperinterval[stepsperinterval[,1]==nas[i,3],2]
}
imputed[is.na(imputed),]&lt;- nas</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Make a histogram of the total number of steps taken each day</li>
</ol>
<pre class="r"><code>stepimputed &lt;- aggregate(imputed$steps, list(imputed$date),FUN=sum,na.rm=TRUE)
qplot(stepsperday[,2],binwidth=1000, xlab=&quot;Steps per Day&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-10-1.png" title="" alt="" width="672" /> Calculate and report the mean and median total number of steps taken per day. Do these values differ from the estimates from the first part of the assignment? What is the impact of imputing missing data on the estimates of the total daily number of steps?</p>
<pre class="r"><code>print(paste(&quot;The mean is&quot;, mean(stepsperday[,2])))</code></pre>
<pre><code>## [1] &quot;The mean is 9354.22950819672&quot;</code></pre>
<pre class="r"><code>print(paste(&quot;The median is&quot;, median(stepsperday[,2])))</code></pre>
<pre><code>## [1] &quot;The median is 10395&quot;</code></pre>
<p>Theses values do not differ significantly from the means and medians reported in the first part of the assignment. Assessment of the histogram of total steps also shows no significant change in the total number of steps taken.</p>
<p>Are there differences in activity patterns between weekdays and weekends? 1. Create a new factor variable in the dataset with two levels – “weekday” and “weekend” indicating whether a given date is a weekday or weekend day.</p>
<pre class="r"><code>imputed$date &lt;- strptime(imputed$date, format=&quot;%Y-%m-%d&quot;)
imputed$day &lt;- weekdays(imputed$date)%in%c(&quot;Saturday&quot;,&quot;Sunday&quot;)
imputed$day &lt;- as.factor(imputed$day)
levels(imputed$day) &lt;- c(&quot;Weekend&quot;,&quot;Weekday&quot;)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Make a panel plot containing a time series plot (i.e. type = “l”) of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all weekday days or weekend days (y-axis).</li>
</ol>
<pre class="r"><code>ggplot(imputed,aes(interval,steps))+stat_summary(fun.y=mean, geom=&quot;line&quot;)+
    facet_grid(.~day)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-13-1.png" title="" alt="" width="672" /></p>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
